CREATE DATABASE FacturaExpressdb;

USE FacturaExpressdb;

CREATE TABLE `roles` (
    `id` INT NOT NULL AUTO_INCREMENT,
    `nombre` VARCHAR(50) NOT NULL,
    PRIMARY KEY (`id`)
);

CREATE TABLE `usuarios` (
    `id` INT NOT NULL AUTO_INCREMENT,
    `login` VARCHAR(50) NULL DEFAULT NULL,
    `clave` VARCHAR(50) NULL DEFAULT NULL,
    `status` INT NULL DEFAULT NULL,
    PRIMARY KEY (`id`)
);

CREATE TABLE `usuario_rol` (
    `rol_id` INT NULL,
    `usuario_id` INT NULL,
    FOREIGN KEY (`rol_id`) REFERENCES `roles`(`id`) ON DELETE CASCADE,
    FOREIGN KEY (`usuario_id`) REFERENCES `usuarios`(`id`) ON DELETE CASCADE
);

INSERT INTO usuarios (login, clave, status) VALUES
 ('admin', '{noop}admin123', 1),
 ('empleados', '{noop}empleados123', 1),
 ('cliente', '{noop}cliente123', 0);

INSERT INTO roles (nombre) VALUES
 ('admin'),
 ('empleado');

INSERT INTO usuario_rol (usuario_id, rol_id) VALUES
 (1, 1),
 (2, 2),
 (3, 2);
